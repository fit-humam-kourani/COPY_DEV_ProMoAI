from utils.model_generation import ModelGenerator

gen = ModelGenerator()

# Define activities
file_complaint = gen.activity('File complaint')
log_complaint = gen.activity('Log complaint')
assign_department = gen.activity('Assign complaint to relevant department')
review_details = gen.activity('Review complaint details')
notify_customer = gen.activity('Notify customer')
process_reimbursement = gen.activity('Process reimbursement')
complaint_resolved = gen.activity('Resolve complaint')
close_case = gen.xor('Provide feedback', None)

# Define optional processing of reimbursement
process_reimbursement_optional = gen.xor(process_reimbursement, None)

# Build the final process model
final_model = gen.partial_order(dependencies=[
    (file_complaint, log_complaint),
    (log_complaint, assign_department),
    (assign_department, review_details),
    (review_details, notify_customer),
    (notify_customer, process_reimbursement_optional),
    (process_reimbursement_optional, complaint_resolved),
    (complaint_resolved, close_case)
])
